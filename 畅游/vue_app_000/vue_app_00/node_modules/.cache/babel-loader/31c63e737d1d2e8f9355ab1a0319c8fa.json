{"remainingRequest":"C:\\Users\\web\\Desktop\\畅游项目\\Tour\\畅游\\vue_app_000\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\web\\Desktop\\畅游项目\\Tour\\畅游\\vue_app_000\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\畅游项目\\Tour\\畅游\\vue_app_000\\vue_app_00\\src\\components\\ch\\common\\second-search\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\web\\Desktop\\畅游项目\\Tour\\畅游\\vue_app_000\\vue_app_00\\src\\components\\ch\\common\\second-search\\Login.vue","mtime":1566218559223},{"path":"C:\\Users\\web\\Desktop\\畅游项目\\Tour\\畅游\\vue_app_000\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1565596866076},{"path":"C:\\Users\\web\\Desktop\\畅游项目\\Tour\\畅游\\vue_app_000\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1565596864203},{"path":"C:\\Users\\web\\Desktop\\畅游项目\\Tour\\畅游\\vue_app_000\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1565596894036}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      user: \"\",\n      upwd: \"\"\n    };\n  },\n  methods: {\n    // 跳转注册页面事件\n    regist: function regist(e) {\n      var span = document.getElementsByClassName(\"please_rst\")[0];\n\n      if (e.target == span) {\n        this.$router.push(\"/regist\");\n      }\n    },\n    // 手机输入框失去焦点方法\n    phon: function phon() {\n      // 创建正则\n      var reg = /(^[\\-0-9][0-9]*(.[0-9]+)?)$/; // 获取用户名\n\n      if (!reg.test(this.user)) {\n        // 获取邮箱\n        var email = this.user;\n        console.log(email);\n      } else {\n        // 获取手机号\n        var phone = this.user;\n      }\n\n      if (this.user !== \"\") {\n        // 用户名正则\n        var regPhone = new RegExp(/^1[3456789]\\d{9}$/);\n        var regEmail = new RegExp(\"^([0-9A-Za-z-_.]+)@([0-9a-z]+.[a-z]{2,3}(.[a-z]{2})?)$\", \"g\"); // 判断格式是否正确\n\n        if (regPhone.test(phone) === false && regEmail.test(email) === false) {\n          this.$toast(\"手机或邮箱格式不正确\");\n        }\n      }\n    },\n    // 登录\n    login: function login() {\n      var _this = this;\n\n      // 创建正则\n      var reg = /(^[\\-0-9][0-9]*(.[0-9]+)?)$/; // 获取用户名\n\n      if (!reg.test(this.user)) {\n        // 获取邮箱\n        var email = this.user;\n      } else {\n        // 获取手机号\n        var phone = this.user;\n      } // 获取用户密码\n\n\n      var upwd = this.upwd; // 传递的参数\n\n      var obj;\n\n      if (email === undefined) {\n        obj = {\n          phone: phone,\n          upwd: upwd\n        };\n      } else if (phone === undefined) {\n        obj = {\n          email: email,\n          upwd: upwd\n        };\n      } // 发送ajax请求\n\n\n      this.axios(\"login\", {\n        params: obj\n      }).then(function (res) {\n        // console.log(res);\n        // 获取服务器返回结果\n        if (res.data.code == -1) {\n          _this.$toast(\"用户名或密码错误\");\n        } else {\n          _this.$router.push(\"/cy\");\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,YAAA,EADA;AAEA,YAAA;AAFA,KAAA;AAIA,GANA;AAOA,WAAA;AACA;AACA,UAFA,kBAEA,CAFA,EAEA;AACA,UAAA,OAAA,SAAA,sBAAA,CAAA,YAAA,EAAA,CAAA,CAAA;;AACA,UAAA,EAAA,MAAA,IAAA,IAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,SAAA;AACA;AACA,KAPA;AASA;AACA,QAVA,kBAUA;AACA;AACA,UAAA,MAAA,6BAAA,CAFA,CAGA;;AACA,UAAA,CAAA,IAAA,IAAA,CAAA,KAAA,IAAA,CAAA,EAAA;AACA;AACA,YAAA,QAAA,KAAA,IAAA;AACA,gBAAA,GAAA,CAAA,KAAA;AACA,OAJA,MAIA;AACA;AACA,YAAA,QAAA,KAAA,IAAA;AACA;;AACA,UAAA,KAAA,IAAA,KAAA,EAAA,EAAA;AACA;AACA,YAAA,WAAA,IAAA,MAAA,CAAA,mBAAA,CAAA;AACA,YAAA,WAAA,IAAA,MAAA,CACA,wDADA,EAEA,GAFA,CAAA,CAHA,CAOA;;AACA,YAAA,SAAA,IAAA,CAAA,KAAA,MAAA,KAAA,IAAA,SAAA,IAAA,CAAA,KAAA,MAAA,KAAA,EAAA;AACA,eAAA,MAAA,CAAA,YAAA;AACA;AACA;AACA,KAlCA;AAmCA;AACA,SApCA,mBAoCA;AAAA;;AACA;AACA,UAAA,MAAA,6BAAA,CAFA,CAGA;;AACA,UAAA,CAAA,IAAA,IAAA,CAAA,KAAA,IAAA,CAAA,EAAA;AACA;AACA,YAAA,QAAA,KAAA,IAAA;AACA,OAHA,MAGA;AACA;AACA,YAAA,QAAA,KAAA,IAAA;AACA,OAVA,CAYA;;;AACA,UAAA,OAAA,KAAA,IAAA,CAbA,CAcA;;AACA,UAAA,GAAA;;AACA,UAAA,UAAA,SAAA,EAAA;AACA,cAAA;AAAA,iBAAA,KAAA;AAAA,gBAAA;AAAA,SAAA;AACA,OAFA,MAEA,IAAA,UAAA,SAAA,EAAA;AACA,cAAA;AAAA,iBAAA,KAAA;AAAA,gBAAA;AAAA,SAAA;AACA,OApBA,CAsBA;;;AACA,WAAA,KAAA,CAAA,OAAA,EAAA;AAAA,gBAAA;AAAA,OAAA,EAAA,IAAA,CAAA,eAAA;AACA;AACA;AACA,YAAA,IAAA,IAAA,CAAA,IAAA,IAAA,CAAA,CAAA,EAAA;AACA,gBAAA,MAAA,CAAA,UAAA;AACA,SAFA,MAEA;AACA,gBAAA,OAAA,CAAA,IAAA,CAAA,KAAA;AACA;AACA,OARA;AASA;AApEA;AAPA,CAAA","sourcesContent":["<template>\r\n    <!-- 登录组件 -->\r\n    <div class=\"login_box\">\r\n        <div class=\"login_title\">\r\n            <h2>畅游</h2>\r\n        </div>\r\n        <div class=\"login_fld\">\r\n            <mt-field @blur.native.capture=\"phon\" v-model=\"user\" class=\"phone\" placeholder=\"请输入手机号或邮箱\"></mt-field>\r\n            <mt-field v-model=\"upwd\" class=\"pwd\" placeholder=\"请输入密码\"></mt-field>\r\n        </div>\r\n        <div class=\"login_btn\">\r\n            <mt-button @click=\"login\" class=\"btn\" type=\"primary\" size=\"large\">登录</mt-button>\r\n        </div>\r\n        <div class=\"forget_box\">\r\n            <span class=\"forget\">忘记登录信息？</span><span class=\"help\">获取登录帮助</span>\r\n        </div>\r\n        <hr><span class=\"or\">或</span><hr>\r\n        <div class=\"no_account\" @click=\"regist\">\r\n            <span class=\"no_user\">没有账户？</span><span class=\"please_rst\">请注册</span>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: \"\",\r\n      upwd: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    // 跳转注册页面事件\r\n    regist(e) {\r\n      var span = document.getElementsByClassName(\"please_rst\")[0];\r\n      if (e.target == span) {\r\n        this.$router.push(\"/regist\");\r\n      }\r\n    },\r\n\r\n    // 手机输入框失去焦点方法\r\n    phon() {\r\n      // 创建正则\r\n      var reg = /(^[\\-0-9][0-9]*(.[0-9]+)?)$/;\r\n      // 获取用户名\r\n      if (!reg.test(this.user)) {\r\n        // 获取邮箱\r\n        var email = this.user;\r\n        console.log(email);\r\n      } else {\r\n        // 获取手机号\r\n        var phone = this.user;\r\n      }\r\n      if (this.user !== \"\") {\r\n        // 用户名正则\r\n        var regPhone = new RegExp(/^1[3456789]\\d{9}$/);\r\n        var regEmail = new RegExp(\r\n          \"^([0-9A-Za-z-_.]+)@([0-9a-z]+.[a-z]{2,3}(.[a-z]{2})?)$\",\r\n          \"g\"\r\n        );\r\n        // 判断格式是否正确\r\n        if (regPhone.test(phone) === false && regEmail.test(email) === false) {\r\n          this.$toast(\"手机或邮箱格式不正确\");\r\n        }\r\n      }\r\n    },\r\n    // 登录\r\n    login() {\r\n      // 创建正则\r\n      var reg = /(^[\\-0-9][0-9]*(.[0-9]+)?)$/;\r\n      // 获取用户名\r\n      if (!reg.test(this.user)) {\r\n        // 获取邮箱\r\n        var email = this.user;\r\n      } else {\r\n        // 获取手机号\r\n        var phone = this.user;\r\n      }\r\n\r\n      // 获取用户密码\r\n      var upwd = this.upwd;\r\n      // 传递的参数\r\n      var obj;\r\n      if (email === undefined) {\r\n        obj = { phone: phone, upwd: upwd };\r\n      } else if (phone === undefined) {\r\n        obj = { email: email, upwd: upwd };\r\n      }\r\n\r\n      // 发送ajax请求\r\n      this.axios(\"login\", { params: obj }).then(res => {\r\n        // console.log(res);\r\n        // 获取服务器返回结果\r\n        if (res.data.code == -1) {\r\n          this.$toast(\"用户名或密码错误\");\r\n        } else {\r\n          this.$router.push(\"/cy\");\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 外层容器 */\r\ndiv.login_box {\r\n  text-align: center;\r\n}\r\n/* logo容器 */\r\ndiv.login_title {\r\n  width: 100%;\r\n  height: 50px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  margin-top: 100px;\r\n}\r\n/* 文本输入框 */\r\ndiv.login_fld {\r\n  margin: 0px 0px 30px 0px;\r\n}\r\n.phone,\r\n.pwd {\r\n  border: 1px solid #ccc;\r\n  margin: 10px 0;\r\n  height: 30px;\r\n}\r\n/* 按钮 */\r\ndiv.login_btn {\r\n  text-align: center;\r\n  margin-bottom: 10px;\r\n}\r\n.btn {\r\n  margin-top: 20px;\r\n}\r\n/* 帮助样式 */\r\ndiv.forget_box {\r\n  margin-bottom: 40px;\r\n}\r\n/* 分割线 */\r\nhr {\r\n  width: 169px;\r\n}\r\n.or,\r\nhr,\r\nhr {\r\n  float: left;\r\n}\r\n/* 清除浮动 */\r\ndiv.no_account {\r\n  clear: both;\r\n  margin-top: 100px;\r\n}\r\nspan.forget,\r\nspan.no_user,\r\nspan.or {\r\n  color: #666;\r\n}\r\nspan.please_rst,\r\nspan.help {\r\n  color: #333;\r\n  font-weight: bolder;\r\n}\r\n</style>\r\n"],"sourceRoot":"src\\components\\ch\\common\\second-search"}]}